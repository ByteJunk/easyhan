>D 48

cnt=0
EB="EB1"
hh=0
mm=0
ss=0


>B

spinm(2 1)

if upsecs<5
then
=>WiFi 0
endif

=>SerialLog 0
=>Sensor53 r


>E


>T


>S

spin(2 0)
delay(100)
spin(2 1)

if upsecs==5
then
=>WiFi 1
endif

if cnt==21
then
smlj=1
tper=10
+>WifiConfig
+>WifiPower
+>BackLog Script 8
endif

if cnt==31
then
=>UfsRun discovery-%EB%.txt
endif

if cnt<99
then
cnt+=1
print cnt=%0cnt%
endif

hh=sml[1]
mm=sml[2]
ss=sml[3]

if chg[ss]>0
and cnt>30
then
print Hey
endif


>J


>W



>M 1
; REQUEST: [0]:5.6.1(1);[1]:5.6.2(8);[2]:5.6.4(2);[3]:5.6.4(2);[4]:5.6.4(2);[5]:5.6.5(14);[6]:5.6.6(20);[7]5.6.8(4)
+1,3,mN1,1,9600,EB1,1,50,r010400010001,r0104000B0008,r010400160002,r0104001C0006,r010400220004,r01040026000E,r0104006C0014,r010400840004
; REPLY FORMATTING
; 5.6.1 General Information (12 bytes = 0X0C)
1,01040Cx05uu@i0:1,Clock ,h,CH,0
1,01040Cx06uu@i0:1,Clock ,m,CM,0
1,01040Cx07uu@i0:1,Clock ,s,CS,0
1,=h<br>
; 5.6.2 Tariff Configuration (1+7*4 = 29 bytes = 0x1D)
1,01041Ex00uu@i1:1,CAT,,CAT,0
1,01041Ex01U32@i1:1000,ADCT1,kVA,ADCT1,2
1,01041Ex05U32@i1:1000,ADCT2,kVA,ADCT2,2
1,01041Ex09U32@i1:1000,ADCT3,kVA,ADCT3,2
1,01041Ex13U32@i1:1000,ADCT4,kVA,ADCT4,2
1,01041Ex17U32@i1:1000,ADCT5,kVA,ADCT5,2
1,01041Ex21U32@i1:1000,ADCT6,kVA,ADCT6,2
1,01041Ex25U32@i1:1000,CAPT,kVA,CAPT,2
1,=h<br>
; 5.6.3 Demand Management
;
; 5.6.4 Total Registers (2*4 = 8B = 0x08)(6*4 = 24B = 0x18)(2*4+2*12 = 32 = 0x20)
1,010408x00U32@i2:1000,AEIpA,kWh,AEIpA,3
1,010408x04U32@i2:1000,AEImA,kWh,AEImA,3
1,010418x00U32@i3:1000,AEIL1pA,kWh,AEIL1pA,3 ;eb3
1,010418x04U32@i3:1000,AEIL2pA,kWh,AEIL2pA,3 ;eb3
1,010418x08U32@i3:1000,AEIL3pA,kWh,AEIL3pA,3 ;eb3
1,010418x12U32@i3:1000,AEEL1mA,kWh,AEEL1mA,3 ;eb3
1,010418x16U32@i3:1000,AEEL2mA,kWh,AEEL2mA,3 ;eb3
1,010418x20U32@i3:1000,AEEL3mA,kWh,AEEL3mA,3 ;eb3
1,010420x00U32@i4:1,MDAPpQ14,W,MDAPpQ14,0
;1,010420x04U32@i4:1,MDAPpQ14T,Clk,MDAPpQ14T,0 ;clock. Ew
1,010420x16U32@i4:1,MDAPmQ14,W,MDAPmQ14,0
;1,010420x20U32@i4:1,MDAPmQ14T,Clk,MDAPmQ14T,0 ;clock. Ew
; 5.6.5 Tariff Registers (14*4 = 56 bytes = 0x38)
1,010438x00U32@i2:1000,R1C1AEpA,kWh,R1C1AEpA,2
1,010438x04U32@i2:1000,R2C1AEpA,kWh,R2C1AEpA,2
1,010438x08U32@i2:1000,R3C1AEpA,kWh,R3C1AEpA,2
1,010438x12U32@i2:1000,R4C1AEpA,kWh,R4C1AEpA,2
1,010438x16U32@i2:1000,R5C1AEpA,kWh,R5C1AEpA,2
1,010438x20U32@i2:1000,R6C1AEpA,kWh,R6C1AEpA,2
1,010438x24U32@i2:1000,TRC1AEpA,kWh,TRC1AEpA,2
1,010438x28U32@i2:1000,R1C1AEmA,kWh,R1C1AEmA,2
1,010438x32U32@i2:1000,R2C1AEmA,kWh,R2C1AEmA,2
1,010438x36U32@i2:1000,R3C1AEmA,kWh,R3C1AEmA,2
1,010438x40U32@i2:1000,R4C1AEmA,kWh,R4C1AEmA,2
1,010438x44U32@i2:1000,R5C1AEmA,kWh,R5C1AEmA,2
1,010438x48U32@i2:1000,R6C1AEmA,kWh,R6C1AEmA,2
1,010438x52U32@i2:1000,TRC1AEmA,kWh,TRC1AEmA,2
1,=h<br>
; 5.6.6 Instantaneous Values (7*2p8*4p5*2 = 56 bytes = 0x38)
1,010438x00UUuu@i3:10,IVL1,V,IVL1,1
1,010438x02UUuu@i3:10,ICL1,A,ICL1,1
1,010438x04UUuu@i3:10,IVL2,V,IVL2,1 ;eb3
1,010438x06UUuu@i3:10,ICL2,A,ICL2,1 ;eb3
1,010438x08UUuu@i3:10,IVL3,V,IVL3,1 ;eb3
1,010438x10UUuu@i3:10,ICL3,A,ICL3,1 ;eb3
1,010438x12UUuu@i3:10,ICSUM,A,ICSUM,1 ;eb3
1,010438x14U32@i3:10,IAPpL1,W,IAPpL1,1 ;eb3
1,010438x18U32@i3:10,IAPmL1,W,IAPmL1,1 ;eb3
1,010438x22U32@i3:10,IAPpL2,W,IAPpL2,1 ;eb3
1,010438x26U32@i3:10,IAPmL2,W,IAPmL2,1 ;eb3
1,010438x30U32@i3:10,IAPpL3,W,IAPpL3,1 ;eb3
1,010438x34U32@i3:10,IAPmL3,W,IAPmL3,1 ;eb3
1,010438x38U32@i3:10,IAPpSUM,W,IAPpSUM,1
1,010438x42U32@i3:10,IAPmSUM,W,IAPmSUM,1
1,010438x46UUuu@i3:1000,IPF,,IPF,3
1,010438x48UUuu@i3:1000,IPFL1,,IPFL1,3 ;eb3
1,010438x50UUuu@i3:1000,IPFL2,,IPFL2,3 ;eb3
1,010438x52UUuu@i3:1000,IPFL3,,IPFL3,3 ;eb3
1,010438x54UUuu@i3:10,IF,Hz,IF,1
1,=h<br>
; 5.6.7 Load Profile
;
; 5.6.8 Disconnector (1+3*4 = 13B = 0x0D)
1,01040Dx00uu@i7:1,DCS,,DCS,0
1,01040Dx01U32@i7:1,DQP,,DQP,0
1,01040Dx05U32@i7:1,DKP,%,DKP,0
1,01040Dx09U32@i7:1000,MAPPP,kVA,MAPPP,2
1,=h<br>
; 5.6.9 Quality of Service
;
#
; EOF
